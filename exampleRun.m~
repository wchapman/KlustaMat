%% Axona example
dataPath = [pwd filesep 'exampleData' filesep 'axona'];
prefix = '140322_1301_circleTrack';

waveStruct = KlustaMat.IO.Axona2Matlab(dataPath, prefix);
waveStruct(end).pca = [];
waveStruct(end).features = [];
waveStruct(end).numChans = [];
waveStruct(end).numFeats = [];
waveStruct(end).ClusterNum = [];

for i = 1:16
    waveStruct(i) = KlustaMat.In.badChannels(waveStruct(i));
    waveStruct(i) = KlustaMat.Internal.PCA(waveStruct(i));
    waveStruct(i) = KlustaMat.Internal.Features(waveStruct(i));
    waveStruct(i) = KlustaMat.IO.Matlab2fet(waveStruct(i));
    waveStruct(i).ClusterNum = KlustaMat.External.KlustaKwik('FileBase',[pwd filesep 'exampleData' filesep 'axona' filesep '140322_1301_circleTrack'],'ElecNo',i);
    KlustaMat.IO.Matlab2Cut(waveStruct(i));
end

%

%% Neuralynx Example (windows & mac only)

dataPath = [pwd filesep 'exampleData' filesep 'neuralynx'];
waveStruct = KlustaMat.IO.Neuralynx2Matlab(dataPath);
waveStruct(end).pca = [];
waveStruct(end).features = [];
waveStruct(end).numChans = [];
waveStruct(end).numFeats = [];
waveStruct(end).ClusterNum = [];
%waveStruct(end).ChannelNumber = [];
%waveStruct(end).fet = [];

for i = 1%:16
    waveStruct(i) = KlustaMat.Internal.badChannels(waveStruct(i));
    waveStruct(i) = KlustaMat.Internal.PCA(waveStruct(i));
    waveStruct(i) = KlustaMat.Internal.Features(waveStruct(i));
    waveStruct(i) = KlustaMat.IO.Matlab2fet(waveStruct(i));
    waveStruct(i).ClusterNum = KlustaMat.External.KlustaKwik('FileBase',[dataPath filesep 'TT'],'ElecNo',waveStruct(i).ChannelNumber);
    KlustaMat.IO.Matlab2NTT(waveStruct(i));
end